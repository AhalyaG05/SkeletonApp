@using FirstApp.Models;
@page "/nasa_apod"
@using FirstApp.Clients;
@inject NasaClient NasaClient;
@using FirstApp.Shared.Components;

<PageTitle alignment="center">
    NASA Apod
</PageTitle>

<br/>

<h1>NASA Apod</h1>


<Header title="@nasaResponse.title" subTitle="@nasaResponse.date" description="@nasaResponse.explanation"/>

<br/>

<NasaImageSection imgUrl="@nasaResponse.url" hdUrl="@nasaResponse.hdurl" copyright="@nasaResponse.copyright"/>

<input placeholder ="Add Date" @bind = "NasaClient.newdate"/>
<button @onclick="AddDate"> Add Date </button>


@code {

private  NasaResponse? nasaResponse = null;

protected override async Task OnInitializedAsync(){
    nasaResponse = await NasaClient.GetNasa();
}

private async Task AddDate()
{
    nasaResponse = await NasaClient.GetNasa();
}

}
